{"ast":null,"code":"import _objectSpread from \"/Users/yangpu-bt/personal/moonlt3/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/yangpu-bt/personal/moonlt3/src/routes/index.js\";\nimport React, { Component } from 'react';\nimport Loadable from 'react-loadable';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport hello from './Hello';\nimport hi from './Hi';\nconst modules = [hello, hi]; // 为了根据模块名称找到文件\n\nconst convFirstChartUpper = str => str.substr(0, 1).toUpperCase() + str.substr(1);\n\nexport default class CRouter extends Component {\n  // 关于权限部分先不写\n  render() {\n    return React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, modules.forEach(ele => {\n      const route = (ele, parentPath) => {\n        const elePath = convFirstChartUpper(ele.path);\n        const finalPath = \"\".concat(convFirstChartUpper(parentPath), \"/\").concat(elePath); // const Component = Loadable({\n        //   loader: () => import(`../containers/Pages/${finalPath}}`).then(console.log(32222)),\n        //   loading: <div>加载中噢......</div>,\n        // });\n\n        const Component = import(\"../containers/Pages/\".concat(finalPath, \"}\"));\n        console.log(Component);\n        console.log(finalPath);\n        return React.createElement(Route, {\n          key: ele.path // exact\n          ,\n          path: finalPath,\n          render: props => {\n            const reg = /\\?\\S*/g; // 匹配?及其以后字符串\n\n            const queryParams = window.location.hash.match(reg); // 去除?的参数\n\n            const params = props.match.params;\n            Object.keys(params).forEach(key => {\n              params[key] = params[key] && params[key].replace(reg, '');\n            });\n            props.match.params = _objectSpread({}, params);\n\n            const merge = _objectSpread({}, props, {\n              query: {}\n            });\n\n            const WrappedComponent = React.createElement(Component, Object.assign({}, merge, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 50\n              },\n              __self: this\n            }));\n            return WrappedComponent;\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        });\n      };\n\n      console.log(ele.child ? ele.child.map(r => route(r, ele.path)) : route(ele));\n      return ele.child ? ele.child.map(r => route(r, ele.path)) : route(ele);\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/yangpu-bt/personal/moonlt3/src/routes/index.js"],"names":["React","Component","Loadable","Route","Redirect","Switch","hello","hi","modules","convFirstChartUpper","str","substr","toUpperCase","CRouter","render","forEach","ele","route","parentPath","elePath","path","finalPath","console","log","props","reg","queryParams","window","location","hash","match","params","Object","keys","key","replace","merge","query","WrappedComponent","child","map","r"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Loadable from 'react-loadable';\nimport { Route, Redirect, Switch } from 'react-router-dom';\n\nimport hello from './Hello';\nimport hi from './Hi';\n\nconst modules = [\n  hello,\n  hi,\n];\n\n// 为了根据模块名称找到文件\nconst convFirstChartUpper = (str) => str.substr(0, 1).toUpperCase() + str.substr(1);\n\nexport default class CRouter extends Component {\n  // 关于权限部分先不写\n\n  render() {\n    return (\n      <Switch>\n        {modules.forEach((ele) => {\n          const route = (ele, parentPath) => {\n            const elePath = convFirstChartUpper(ele.path);\n            const finalPath = `${convFirstChartUpper(parentPath)}/${elePath}`;\n            // const Component = Loadable({\n            //   loader: () => import(`../containers/Pages/${finalPath}}`).then(console.log(32222)),\n            //   loading: <div>加载中噢......</div>,\n            // });\n            const Component = import(`../containers/Pages/${finalPath}}`);\n            console.log(Component);\n            console.log(finalPath);\n            return (\n              <Route\n                key={ele.path}\n                // exact\n                path={finalPath}\n                render={props => {\n                  const reg = /\\?\\S*/g;\n                  // 匹配?及其以后字符串\n                  const queryParams = window.location.hash.match(reg);\n                  // 去除?的参数\n                  const { params } = props.match;\n                  Object.keys(params).forEach(key => {\n                    params[key] = params[key] && params[key].replace(reg, '');\n                  })\n                  props.match.params = { ...params };\n                  const merge = { ...props, query: {} };\n                  const WrappedComponent = (\n                    <Component {...merge}/>\n                  )\n                  return WrappedComponent;\n                }}\n              \n              ></Route>\n            )\n          }\n          console.log(ele.child ? ele.child.map((r) => route(r, ele.path)) : route(ele))\n          return ele.child ? ele.child.map((r) => route(r, ele.path)) : route(ele);\n        })}\n        {/* <Route render={() => <Redirect to=\"/404\" />} /> */}\n      </Switch>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}